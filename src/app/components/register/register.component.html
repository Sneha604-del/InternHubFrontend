<div class="register-container">
  <mat-card class="register-card">
    <div class="logo-container">
      <img src="assets/symbol.png" alt="InternHub Logo" class="logo">
    </div>
    <mat-card-header>
      <mat-card-title>Student Registration</mat-card-title>
    </mat-card-header>
    
    <mat-card-content>
      <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" name="fullName" 
                 [(ngModel)]="registrationData.fullName" 
                 required minlength="2" placeholder="Enter your full name" class="full-width">
        </div>

        <div class="form-group">
          <label>Email</label>
          <input type="email" name="email" 
                 [(ngModel)]="registrationData.email" 
                 required email placeholder="Enter your email address" class="full-width">
        </div>

        <div class="form-group">
          <label>Birth Date</label>
          <input type="date" name="birthDate" 
                 [(ngModel)]="registrationData.birthDate" required class="full-width">
        </div>

        <div class="form-group">
          <label>Gender</label>
          <select [(ngModel)]="registrationData.gender" name="gender" required class="full-width">
            <option value="MALE">Male</option>
            <option value="FEMALE">Female</option>
          </select>
        </div>

        <div class="form-group">
          <label>College</label>
          <input type="text" name="college" 
                 [(ngModel)]="registrationData.college" 
                 required minlength="2" placeholder="Enter your college name" class="full-width">
        </div>

        <div class="form-group">
          <label>Course</label>
          <input type="text" name="course" 
                 [(ngModel)]="registrationData.course" 
                 required minlength="2" placeholder="Enter your course name" class="full-width">
        </div>

        <div class="form-group password-field">
          <label>Password</label>
          <div class="password-input-wrapper">
            <input [type]="hidePassword ? 'password' : 'text'" name="password" 
                   [(ngModel)]="registrationData.password" 
                   (input)="onPasswordChange()"
                   required minlength="8" placeholder="Enter password (min 8 characters)" class="full-width">
            <span class="eye-icon" (click)="hidePassword = !hidePassword">
              <svg *ngIf="hidePassword" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              <svg *ngIf="!hidePassword" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                <line x1="1" y1="1" x2="23" y2="23"></line>
              </svg>
            </span>
          </div>
        </div>

        <!-- Password Requirements -->
        <div class="password-requirements" *ngIf="registrationData.password">
          <p class="requirements-title">Password Requirements:</p>
          <ul class="requirements-list">
            <li [class.valid]="registrationData.password.length >= 8" 
                [class.invalid]="registrationData.password.length < 8">
              {{registrationData.password.length >= 8 ? '✓' : '✗'}} At least 8 characters
            </li>
            <li [class.valid]="hasUppercase()" [class.invalid]="!hasUppercase()">
              {{hasUppercase() ? '✓' : '✗'}} One uppercase letter
            </li>
            <li [class.valid]="hasLowercase()" [class.invalid]="!hasLowercase()">
              {{hasLowercase() ? '✓' : '✗'}} One lowercase letter
            </li>
            <li [class.valid]="hasNumber()" [class.invalid]="!hasNumber()">
              {{hasNumber() ? '✓' : '✗'}} One number
            </li>
            <li [class.valid]="hasSpecialChar()" [class.invalid]="!hasSpecialChar()">
              {{hasSpecialChar() ? '✓' : '✗'}} One special character
            </li>
          </ul>
        </div>

        <div class="form-group password-field">
          <label>Confirm Password</label>
          <div class="password-input-wrapper">
            <input [type]="hideConfirmPassword ? 'password' : 'text'" name="confirmPassword" 
                   [(ngModel)]="confirmPassword" 
                   required minlength="8" placeholder="Confirm your password" class="full-width">
            <span class="eye-icon" (click)="hideConfirmPassword = !hideConfirmPassword">
              <svg *ngIf="hideConfirmPassword" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              <svg *ngIf="!hideConfirmPassword" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                <line x1="1" y1="1" x2="23" y2="23"></line>
              </svg>
            </span>
          </div>
        </div>

        <!-- Terms and Conditions -->
        <div class="terms-container">
          <mat-checkbox [(ngModel)]="acceptTerms" name="acceptTerms" required>
            I agree to the <a (click)="openTermsDialog()" style="cursor: pointer;">Terms and Conditions</a> and <a (click)="openPrivacyDialog()" style="cursor: pointer;">Privacy Policy</a>
          </mat-checkbox>
        </div>

        <button mat-raised-button color="primary" type="submit" 
                [disabled]="!registerForm.form.valid || loading || !acceptTerms" class="full-width register-btn">
          <mat-icon *ngIf="loading">hourglass_empty</mat-icon>
          {{ loading ? 'Registering...' : 'Register' }}
        </button>
      </form>
    </mat-card-content>

    <mat-card-actions>
      <p class="login-link">
        Already have an account? 
        <a mat-button routerLink="/login" color="accent">Login here</a>
      </p>
    </mat-card-actions>
  </mat-card>

  <!-- Terms and Conditions Dialog -->
  <p-dialog header="Terms and Conditions" [(visible)]="showTermsDialog" [modal]="true" [style]="{width: '350px'}" [draggable]="false" [resizable]="false">
    <div class="dialog-content">
      <h3>1. Acceptance of Terms</h3>
      <p>By using InternHub, you agree to these terms and conditions.</p>
      
      <h3>2. User Responsibilities</h3>
      <p>Users must provide accurate information and maintain account security.</p>
      
      <h3>3. Privacy</h3>
      <p>We protect your personal information as outlined in our Privacy Policy.</p>
      
      <h3>4. Prohibited Activities</h3>
      <p>Users may not engage in illegal activities or misuse the platform.</p>
      
      <h3>5. Termination</h3>
      <p>We reserve the right to terminate accounts for violations of these terms.</p>
    </div>
    <ng-template pTemplate="footer">
      <p-button label="Close" (onClick)="showTermsDialog = false"></p-button>
    </ng-template>
  </p-dialog>

  <!-- Privacy Policy Dialog -->
  <p-dialog header="Privacy Policy" [(visible)]="showPrivacyDialog" [modal]="true" [style]="{width: '350px'}" [draggable]="false" [resizable]="false">
    <div class="dialog-content">
      <h3>Information We Collect</h3>
      <p>We collect information you provide during registration and platform usage.</p>
      
      <h3>How We Use Information</h3>
      <p>Information is used to provide services, improve user experience, and communicate with users.</p>
      
      <h3>Information Sharing</h3>
      <p>We do not sell personal information to third parties.</p>
      
      <h3>Data Security</h3>
      <p>We implement security measures to protect your personal information.</p>
    </div>
    <ng-template pTemplate="footer">
      <p-button label="Close" (onClick)="showPrivacyDialog = false"></p-button>
    </ng-template>
  </p-dialog>
</div>