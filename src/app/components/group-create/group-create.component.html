<div class="group-create-container">
  <form (ngSubmit)="onSubmit()" #groupForm="ngForm">
    <!-- Group Information -->
    <div class="form-section">
      <h3>Group Information</h3>
      
      <div class="p-fluid">
        <div class="field">
          <label for="groupName">Group Name <span class="required">*</span></label>
          <input pInputText id="groupName" [(ngModel)]="group.groupName" name="groupName" required />
          <small class="error-message" *ngIf="submitted && !group.groupName">This field is required</small>
        </div>
        
        <div class="field">
          <label for="collegeName">College Name <span class="required">*</span></label>
          <input pInputText id="collegeName" [(ngModel)]="group.collegeName" name="collegeName" required />
          <small class="error-message" *ngIf="submitted && !group.collegeName">This field is required</small>
        </div>
        
        <div class="form-row">
          <div class="field">
            <label for="department">Department <span class="required">*</span></label>
            <input pInputText id="department" [(ngModel)]="group.department" name="department" required />
            <small class="error-message" *ngIf="submitted && !group.department">This field is required</small>
          </div>
          
          <div class="field">
            <label for="academicYear">Academic Year <span class="required">*</span></label>
            <select id="academicYear" [(ngModel)]="group.academicYear" name="academicYear" 
                    required class="p-inputtext p-component">
              <option value="">Select Year</option>
              <option value="2nd Year">2nd Year</option>
              <option value="3rd Year">3rd Year</option>
              <option value="Final Year">Final Year</option>
            </select>
            <small class="error-message" *ngIf="submitted && !group.academicYear">This field is required</small>
          </div>
        </div>
        
        <div class="form-row">
          <div class="field">
            <label for="semester">Semester <span class="required">*</span></label>
            <input pInputText id="semester" [(ngModel)]="group.semester" name="semester" required />
            <small class="error-message" *ngIf="submitted && !group.semester">This field is required</small>
          </div>
          
          <div class="field">
            <label for="totalStudents">Total Students <span class="required">*</span></label>
            <p-inputNumber id="totalStudents" [(ngModel)]="group.totalStudents" name="totalStudents" [required]="true"></p-inputNumber>
            <small class="error-message" *ngIf="submitted && !group.totalStudents">This field is required</small>
          </div>
        </div>
      </div>
    </div>

    <!-- Internship Preferences -->
    <div class="form-section">
      <h3>Internship Preferences</h3>
      
      <div class="p-fluid">
        <div class="form-row">
          <div class="field">
            <label for="internshipType">Internship Type <span class="required">*</span></label>
            <select id="internshipType" [(ngModel)]="group.internshipType" name="internshipType" 
                    required class="p-inputtext p-component">
              <option value="">Select Type</option>
              <option value="TECHNICAL">Technical</option>
              <option value="NON_TECHNICAL">Non Technical</option>
            </select>
            <small class="error-message" *ngIf="submitted && !group.internshipType">This field is required</small>
          </div>
          
          <div class="field">
            <label for="preferredMode">Preferred Mode <span class="required">*</span></label>
            <select id="preferredMode" [(ngModel)]="group.preferredMode" name="preferredMode" 
                    required class="p-inputtext p-component">
              <option value="">Select Mode</option>
              <option value="ONLINE">Online</option>
              <option value="OFFLINE">Offline</option>
              <option value="HYBRID">Hybrid</option>
            </select>
            <small class="error-message" *ngIf="submitted && !group.preferredMode">This field is required</small>
          </div>
        </div>
        
        <div class="field">
          <label for="durationMonths">Duration (Months) <span class="required">*</span></label>
          <select id="durationMonths" [(ngModel)]="group.durationMonths" name="durationMonths" 
                  required class="p-inputtext p-component">
            <option value="">Select Duration</option>
            <option value="1">1 Month</option>
            <option value="2">2 Months</option>
            <option value="3">3 Months</option>
            <option value="6">6 Months</option>
          </select>
          <small class="error-message" *ngIf="submitted && !group.durationMonths">This field is required</small>
        </div>
        
        <div class="form-row">
          <div class="field">
            <label for="startDate">Start Date <span class="required">*</span></label>
            <input type="date" id="startDate" [(ngModel)]="group.startDate" name="startDate" 
                   required class="p-inputtext p-component" />
            <small class="error-message" *ngIf="submitted && !group.startDate">This field is required</small>
          </div>
          
          <div class="field">
            <label for="endDate">End Date <span class="required">*</span></label>
            <input type="date" id="endDate" [(ngModel)]="group.endDate" name="endDate" 
                   required class="p-inputtext p-component" />
            <small class="error-message" *ngIf="submitted && !group.endDate">This field is required</small>
          </div>
        </div>
      </div>
    </div>

    <!-- Faculty Coordinator -->
    <div class="form-section">
      <h3>Faculty Coordinator</h3>
      
      <div class="p-fluid">
        <div class="field">
          <label for="facultyName">Faculty Name <span class="required">*</span></label>
          <input pInputText id="facultyName" [(ngModel)]="group.facultyName" name="facultyName" required />
          <small class="error-message" *ngIf="submitted && !group.facultyName">This field is required</small>
        </div>
        
        <div class="form-row">
          <div class="field">
            <label for="facultyEmail">Faculty Email <span class="required">*</span></label>
            <input pInputText id="facultyEmail" type="email" [(ngModel)]="group.facultyEmail" name="facultyEmail" required />
            <small class="error-message" *ngIf="submitted && !group.facultyEmail">This field is required</small>
          </div>
          
          <div class="field">
            <label for="facultyPhone">Faculty Phone <span class="required">*</span></label>
            <input pInputText id="facultyPhone" [(ngModel)]="group.facultyPhone" name="facultyPhone" 
                   required maxlength="10" pattern="[0-9]{10}" 
                   (ngModelChange)="validatePhone()" 
                   placeholder="Enter 10 digit phone number" />
            <small class="error-message" *ngIf="submitted && !group.facultyPhone">This field is required</small>
            <small class="error-message" *ngIf="phoneError">{{ phoneError }}</small>
          </div>
        </div>
      </div>
    </div>
    
    <div class="form-actions">
      <p-button 
        label="{{loading ? 'Creating...' : 'Create Group'}}" 
        type="submit" 
        [disabled]="!isFormValid() || loading"
        [styleClass]="isFormValid() && !loading ? 'p-button-success' : ''"
      ></p-button>
    </div>
  </form>
</div>